<form class="form-horizontal"
      autocomplete="off"
      #createPatientForm="ngForm"
      novalidate>

  <!-- ===== HEADER ===== -->
  <abp-modal-header
    [title]="'Create Patient' | localize"
    (onCloseClick)="bsModalRef.hide()">
  </abp-modal-header>

  <div class="modal-body">

    <!-- Patient Code -->
    <div class="form-group row">
      <label class="col-md-3 col-form-label">Patient Code</label>
      <div class="col-md-9">
        <input type="text"
          class="form-control"
          name="patientCode"
          [(ngModel)]="patient.patientCode"
          required
          #codeModel="ngModel" />

        <small class="text-danger"
          *ngIf="codeModel.invalid && codeModel.touched">
          Required
        </small>
      </div>
    </div>

    <!-- First Name -->
    <div class="form-group row">
      <label class="col-md-3 col-form-label">First Name</label>
      <div class="col-md-9">
        <input type="text"
          class="form-control"
          name="firstName"
          [(ngModel)]="patient.firstName"
          required
          #fnameModel="ngModel" />

        <small class="text-danger"
          *ngIf="fnameModel.invalid && fnameModel.touched">
          Required
        </small>
      </div>
    </div>

    <!-- Last Name -->
    <div class="form-group row">
      <label class="col-md-3 col-form-label">Last Name</label>
      <div class="col-md-9">
        <input type="text"
          class="form-control"
          name="lastName"
          [(ngModel)]="patient.lastName"
          required
          #lnameModel="ngModel" />

        <small class="text-danger"
          *ngIf="lnameModel.invalid && lnameModel.touched">
          Required
        </small>
      </div>
    </div>

    <!-- DOB -->
    <div class="form-group row">
      <label class="col-md-3 col-form-label">Date Of Birth</label>
      <div class="col-md-9">
        <input type="date"
          class="form-control"
          name="dateOfBirth"
          [(ngModel)]="patient.dateOfBirth"
          required
          #dobModel="ngModel" />

        <small class="text-danger"
          *ngIf="dobModel.invalid && dobModel.touched">
          Required
        </small>
      </div>
    </div>

    <!-- Gender -->
    <div class="form-group row">
      <label class="col-md-3 col-form-label">Gender</label>
      <div class="col-md-9">
        <select class="form-control"
          name="gender"
          [(ngModel)]="patient.gender"
          required
          #genderModel="ngModel">

          <option [value]="5">Male</option>
          <option [value]="10">Female</option>
          <option [value]="15">Other</option>

        </select>

        <small class="text-danger"
          *ngIf="genderModel.invalid && genderModel.touched">
          Required
        </small>
      </div>
    </div>

    <!-- Phone -->
    <div class="form-group row">
      <label class="col-md-3 col-form-label">Phone</label>
      <div class="col-md-9">
        <input type="text"
          class="form-control"
          name="phoneNumber"
          [(ngModel)]="patient.phoneNumber" />
      </div>
    </div>

    <!-- Email -->
    <div class="form-group row">
      <label class="col-md-3 col-form-label">Email</label>
      <div class="col-md-9">
        <input type="email"
          class="form-control"
          name="email"
          [(ngModel)]="patient.email"
          required
          #emailModel="ngModel" />

        <small class="text-danger"
          *ngIf="emailModel.invalid && emailModel.touched">
          Required
        </small>
      </div>
    </div>

    <!-- Address -->
    <div class="form-group row">
      <label class="col-md-3 col-form-label">Address</label>
      <div class="col-md-9">
        <textarea class="form-control"
          name="address"
          [(ngModel)]="patient.address">
        </textarea>
      </div>
    </div>

    <!-- Photo -->
    <div class="form-group row">
      <label class="col-md-3 col-form-label">Photo</label>
      <div class="col-md-9">

        <input type="file"
          class="form-control"
          (change)="onFileSelected($event)"
          accept="image/*" />

        <!-- Preview -->
        <div *ngIf="patientPhotoUrl" class="mt-2">
          <img [src]="patientPhotoUrl"
               class="img-thumbnail"
               style="max-height:120px;">
        </div>

      </div>
    </div>

  </div>

  <!-- ===== FOOTER ===== -->
  <abp-modal-footer
   
    (onSaveClick)="save()"
    (onCancelClick)="bsModalRef.hide()">
  </abp-modal-footer>

</form>
